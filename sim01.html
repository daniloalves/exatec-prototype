<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Exatec ‚Ä¢ Lei de Newton</title>

  <style>
    :root {
      --bg: #f2f2f2;
      --card: #ffffff;
      --primary: #f5b700;
      --accent: #e85d04;
      --text: #333;
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      padding: 30px;
    }

    .app {
      max-width: 1250px;
      width: 100%;
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 24px;
    }

    .card {
      background: var(--card);
      border-radius: 14px;
      padding: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      margin-bottom: 16px;
    }

    h1, h2 {
      margin-top: 0;
    }

    .subtitle {
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }

    label {
      font-size: 14px;
      display: block;
      margin-top: 14px;
    }

    input[type="range"] {
      width: 100%;
    }

    .value {
      font-weight: bold;
      color: var(--accent);
    }

    button {
      width: 100%;
      margin-top: 14px;
      padding: 12px;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
    }

    button.secondary {
      background: #ccc;
      color: #333;
    }

    canvas {
      width: 100%;
      border-radius: 12px;
      margin-top: 12px;
    }

    .metrics {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      margin-top: 14px;
    }

    .metric {
      background: #fafafa;
      border-radius: 10px;
      padding: 10px;
      text-align: center;
      font-size: 14px;
    }

    .metric strong {
      display: block;
      font-size: 16px;
      color: var(--primary);
    }

    .formula-box {
      background: #fafafa;
      border-left: 6px solid var(--primary);
      padding: 16px;
      border-radius: 10px;
      margin-top: 12px;
    }

    .formula {
      background: #fff;
      padding: 12px;
      border-radius: 10px;
      font-size: 18px;
      margin: 12px 0;
    }
  </style>
</head>

<body>

<div class="app">

  <!-- CONTROLES -->
  <div class="card">
    <h1>Lei de Newton</h1>
    <p class="subtitle">Simulador interativo com abordagem pedag√≥gica</p>

    <label>Massa (kg): <span class="value" id="massVal">5</span></label>
    <input type="range" min="1" max="20" value="5" id="mass">

    <label>For√ßa Aplicada (N): <span class="value" id="forceVal">20</span></label>
    <input type="range" min="0" max="50" value="20" id="force">

    <label>Coeficiente de Atrito (Œº): <span class="value" id="frictionVal">0.2</span></label>
    <input type="range" min="0" max="1" step="0.05" value="0.2" id="friction">

    <button id="start">Iniciar</button>
    <button class="secondary" id="reset">Resetar</button>
  </div>

  <!-- SIMULADOR -->
  <div>

    <div class="card">
      <canvas id="scene" width="820" height="360"></canvas>

      <div class="metrics">
        <div class="metric"><strong id="acc">0</strong>Acelera√ß√£o</div>
        <div class="metric"><strong id="vel">0</strong>Velocidade</div>
        <div class="metric"><strong id="net">0</strong>For√ßa Resultante</div>
        <div class="metric">üéØ <strong id="status">10 m/s</strong>Desafio</div>
      </div>

      <canvas id="speedometer" width="200" height="160"></canvas>
      <canvas id="chart" width="400" height="200"></canvas>
    </div>

    <!-- BOX PEDAG√ìGICO -->
    <div class="card formula-box">
      <h2>üìò Fundamento Te√≥rico</h2>

      <p>
        A <strong>2¬™ Lei de Newton</strong> afirma que a acelera√ß√£o de um corpo
        √© diretamente proporcional √† for√ßa resultante aplicada e
        inversamente proporcional √† sua massa.
      </p>

      <div class="formula"><strong>F = m ¬∑ a</strong></div>

      <p><strong>Substituindo os valores atuais:</strong></p>

      <div class="formula">
        For√ßa Resultante = <strong><span id="fResult">0</span> N</strong><br>
        Massa = <strong><span id="mValue">0</span> kg</strong><br><br>
        <strong>a = F / m = <span id="formulaCalc">0</span> m/s¬≤</strong>
      </div>

      <p style="color:#555;">
        üîç Observe como a acelera√ß√£o varia ao modificar a for√ßa ou a massa.
        Se a for√ßa resultante for zero, o corpo n√£o acelera.
      </p>
    </div>

  </div>

</div>

<script>
  const canvas = document.getElementById("scene");
  const ctx = canvas.getContext("2d");

  const speedCtx = document.getElementById("speedometer").getContext("2d");
  const chartCtx = document.getElementById("chart").getContext("2d");

  let x = 50, velocity = 0, running = false, wheelRotation = 0;
  let time = 0, history = [];

  const g = 9.8, targetSpeed = 10;

  const mass = document.getElementById("mass");
  const force = document.getElementById("force");
  const friction = document.getElementById("friction");

  const fResult = document.getElementById("fResult");
  const mValue = document.getElementById("mValue");
  const formulaCalc = document.getElementById("formulaCalc");

  function updateLabels() {
    massVal.textContent = mass.value;
    forceVal.textContent = force.value;
    frictionVal.textContent = friction.value;
  }

  function drawWheel(cx, cy) {
    ctx.save();
    ctx.translate(cx, cy);
    ctx.rotate(wheelRotation);
    ctx.beginPath();
    ctx.arc(0, 0, 10, 0, Math.PI * 2);
    ctx.fillStyle = "#333";
    ctx.fill();
    ctx.restore();
  }

  function drawCar() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#bbb";
    ctx.fillRect(0, 280, canvas.width, 5);

    ctx.fillStyle = "#e85d04";
    ctx.roundRect(x, 240, 100, 30, 8);
    ctx.fill();

    ctx.fillStyle = "#f5b700";
    ctx.roundRect(x + 25, 222, 40, 18, 6);
    ctx.fill();

    wheelRotation += velocity * 0.1;
    drawWheel(x + 25, 270);
    drawWheel(x + 75, 270);
  }

  function drawSpeedometer(v) {
    speedCtx.clearRect(0, 0, 200, 160);
    speedCtx.beginPath();
    speedCtx.arc(100, 100, 70, Math.PI, 0);
    speedCtx.strokeStyle = "#ccc";
    speedCtx.lineWidth = 8;
    speedCtx.stroke();

    const a = Math.PI + Math.min(v, 30) / 30 * Math.PI;
    speedCtx.beginPath();
    speedCtx.moveTo(100, 100);
    speedCtx.lineTo(100 + 60 * Math.cos(a), 100 + 60 * Math.sin(a));
    speedCtx.strokeStyle = "#e85d04";
    speedCtx.lineWidth = 4;
    speedCtx.stroke();

    speedCtx.fillText(v.toFixed(1) + " m/s", 70, 145);
  }

  function drawChart() {
    chartCtx.clearRect(0, 0, 400, 200);
    chartCtx.beginPath();
    chartCtx.strokeStyle = "#f5b700";

    history.forEach((p, i) => {
      const x = i * 4;
      const y = 200 - p.v * 6;
      i ? chartCtx.lineTo(x, y) : chartCtx.moveTo(x, y);
    });
    chartCtx.stroke();
  }

  function step() {
    if (!running) return;

    const F = +force.value;
    const m = +mass.value;
    const mu = +friction.value;

    const frictionForce = mu * m * g;
    const netForce = Math.max(F - frictionForce, 0);
    const acc = netForce / m;

    velocity += acc * 0.1;
    x += velocity;

    time += 0.1;
    history.push({ t: time, v: velocity });
    if (history.length > 100) history.shift();

    acc.textContent = acc.toFixed(2);
    vel.textContent = velocity.toFixed(2);
    net.textContent = netForce.toFixed(2);

    fResult.textContent = netForce.toFixed(2);
    mValue.textContent = m.toFixed(1);
    formulaCalc.textContent = acc.toFixed(2);

    drawCar();
    drawSpeedometer(velocity);
    drawChart();

    if (velocity >= targetSpeed) {
      status.textContent = "Conclu√≠do!";
      status.style.color = "green";
      running = false;
    }

    requestAnimationFrame(step);
  }

  start.onclick = () => { running = true; step(); };
  reset.onclick = () => {
    running = false;
    x = 50; velocity = 0; time = 0; history = [];
    status.textContent = "10 m/s"; status.style.color = "#333";
    drawCar(); drawSpeedometer(0); drawChart();
  };

  mass.oninput = force.oninput = friction.oninput = updateLabels;

  updateLabels();
  drawCar();
</script>

</body>
</html>
